<!DOCTYPE html>
<html lang="en" ng-app="MainApp">
    <head>
        <meta charset="UTF-8">
        <link rel="shortcut icon" href="images/ampolleta.svg" />
        <!-- CSS -->
        <link rel="stylesheet" href="lib/ng-table/dist/ng-table.min.css">
        <link rel="stylesheet" href="lib/bootstrap-3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="lib/materialize/css/ghpages-materialize.css">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">

        <title>Mantenedor Ideaton</title>
    </head>
    <body ng-controller="MainCrl">
    <div class="container-fluid" ng-if="!isLoged">
        <login-sesion></login-sesion>
    </div>
    <div class="container-fluid" ng-if="isLoged">
        <div class="row">
            <!-- Barra lateral ---------------------------------------------------------------------------------------->
            <div class="col-sm-3 col-md-2 sidebar">
                <a href="#" ng-click="cargarDatos()"><img class="logo" src="images/ideaton.png"></a>
                <ul class="nav nav-sidebar">
                    <li>
                        <hr/>
                        <a href="#" ng-click="cancelarCrear()">Noticias</a>
                    </li>
                </ul>
                <ul class="nav nav-sidebar">
                    <li>
                        <hr/>
                        <a href="#" ng-click="mostrarTablaJurados()">Jurados</a>
                        <hr/>
                    </li>
                </ul>
                <ul class="nav nav-sidebar">
                    <li>
                        <a href="#" ng-click="mostrarTablaIdeas()">Ideas</a>
                        <hr/>
                    </li>
                </ul>
                <ul class="nav nav-sidebar">
                    <li>
                        <a href="#" ng-click="logout()">Logout</a>
                        <hr/>
                    </li>
                </ul>
            </div>
            <!-- Division principal pagina ---------------------------------------------------------------------------->
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

                <!-- Tabla de Noticias -------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'TableNo'">
                    <tabla-noticias></tabla-noticias>
                </div>
                <!-- Detalle Noticia seleccionada --------------------------------------------------------------------->
                <div ng-if="selectedOption === 'N'">
                    <h4>Detalles Noticia</h4>
                    <detalles-noticia></detalles-noticia>
                </div>
                <!-- Agregar Noticia ---------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'AddN'">
                    <crear-noticia></crear-noticia>
                </div>
                <!-- Modificar Noticia -------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'UpdN'">
                    <modificar-noticias></modificar-noticias>
                </div>
                <!-- Eliminar Noticia --------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'DelN'">
                    <h4>Detalles Noticia a eliminar</h4>
                    <detalles-noticia></detalles-noticia>
                    <button type="button" class="btn btn-info btn-lg btnTabla" ng-click="delNoticia(currentNoticia.id)">Eliminar</button>
                </div>

                <!-- Tabla de Jurados --------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'TableJ'">
                    <tabla-datos-jurado></tabla-datos-jurado>
                </div>
                <!-- Detalle Jurado seleccionado ---------------------------------------------------------------------->
                <div ng-if="selectedOption === 'J'">
                    <h4>Detalles Jurado</h4>
                    <detalles-jurado></detalles-jurado>
                </div>
                <!-- Agregar Jurado ----------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'AddJ'">
                    <crear-jurado></crear-jurado>
                </div>
                <!-- Modificar Jurado --------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'UpdJ'">
                    <modificar-jurado></modificar-jurado>
                </div>
                <!-- Eliminar Jurado ---------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'DelJ'">
                    <h4>Detalles Jurado a eliminar</h4>
                    <detalles-jurado></detalles-jurado>
                    <button type="button" class="btn btn-info btn-lg btnTabla" ng-click="delJurado(currentJurado.id)">Eliminar</button>
                </div>

                <!-- Tabla Ideas -------------------------------------------------------------------------------------->
                <div ng-if="selectedOption === 'TableId'">
                    <tabla-ideas></tabla-ideas>
                </div>
                <!-- Detalles idea seleccionada ----------------------------------------------------------------------->
                <div ng-if="selectedOption === 'I'">
                    <h4>Detalles Idea</h4>
                    <detalles-ideas></detalles-ideas>
                </div>
                <!-- Detalles aprobacion o deshabilitacion ------------------------------------------------------------>
                <div ng-if="selectedOption === 'upId'">
                    <h4 ng-if="currentIdea.state === 1">Detalles idea a deshabilitar</h4>
                    <h6 ng-if="currentIdea.state === 1">(Se deshabilitara para que no aparezca en la pagina principal)</h6>
                    <h4 ng-if="currentIdea.state === 0">Detalles idea a aprobar</h4>
                    <detalles-ideas></detalles-ideas>
                    <button type="button" ng-if="currentIdea.state === 1" class="btn btn-info btn-lg btnTabla" style="padding-left: 8px;" ng-click="aprobBajaIdea(currentIdea.id, currentIdea.state)">Deshabilitar</button>
                    <button type="button" ng-if="currentIdea.state === 0" class="btn btn-info btn-lg btnTabla" ng-click="aprobBajaIdea(currentIdea.id, currentIdea.state)">Aprobar</button>
                </div>
                <!-- Detalles idea a modificar ------------------------------------------------------------------------>
                <div ng-if="selectedOption === 'UpdI'">
                    <modificar-idea></modificar-idea>
                </div>
            </div>
        </div>
    </div>

    <script src="lib/jquery/dist/jquery.js"></script>
    <script src="lib/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/materialize/dist/js/materialize.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="lib/angular-youtube-embed-master/src/angular-youtube-embed.js"></script>
    <script src="lib/ng-table/dist/ng-table.min.js"></script>
    <script src="lib/angular-environment/angular-environment.min.js"></script>
    <script src="directives/jurado.js"></script>
    <script src="directives/noticias.js"></script>
    <script src="directives/ideas.js"></script>
    <script src="directives/sesion.js"></script>
    <script src="service/jurado.js"></script>
    <script src="service/noticias.js"></script>
    <script src="service/ideas.js"></script>
    <script src="service/sesion.js"></script>
    <script src="controller/CrudAPP.js"></script>
    </body>
</html>